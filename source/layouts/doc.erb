<% wrap_layout :layout do %>
  <%= partial 'partials/sidebar', locals: {
    title: 'API Docs',
    links: data.docs.map do |data| {
      title: data.pkg.name,
      active: current_page.path.include?(data.name),
      links: data.docs.map do |doc| {
        title: doc.longname + (%w[function method].include?(doc.kind) ? '()' : ''),
        url: "/docs/#{data.name}/#/#{doc.longname}"
      } end
    } end
  } %>

  <article class="main-content">
    <%= yield %>
  </article>
<% end %>
